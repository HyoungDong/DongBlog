---
title: '04장 - 변수'
date: 2021-08-29 11:03:00
category: '모던 자바스크립트 Deep Dive'
draft: false
---

### **변수가 필요한 이유**

```jsx
10+20
```

위의 코드를 해석한 결과로  `10, 20` 과 연산 결과 값 `30` 이 각각 임의의 메모리 주소에 저장된다.

연산한 결과 값인 `30` 을 재사용 하고 싶지만 자바스크립트의 특성상 메모리에 직접 접근이 허용되지 않을 뿐더러

값이 저장될 메모리 주소가 코드가 실행될 때 메모리의 상황에 따라 임의로 결정되기 때문에 `30` 이 저장되어있는

주소를 알 방법도 없다.

```jsx
const result = 10 + 20;
```

위의 코드의 경우는 동일하게 `10, 20` 과 연산 결과 값 `30` 이 각각 임의의 메모리 주소에 저장한다.

그 다음  `const` 라는 키워드로 `result` 라는 변수(식별자) 를 선언 하고 연산 결과 값 `30` 을 `result` 에 할당 

한다.

이 때 `result` 는 값 `30` 이 저장되어 있는 메모리 주소를 기억하고 있어서 후에 `result` 를 사용하게 되면 기억

하고 있는 주소에 젒근하여 저장된 `30`(실제로 메모리에는 2진수 형태로 데이터를 저장) 이라는 값을 가져와 사용

한다.

즉, **변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.**

### **변수 선언, 초기화, 할당 (var의 경우)**

**선언** : 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알림.

```jsx
var name;
```

`let, const, var` 등의 키워드 이후에 변수로 사용할 이름을 입력하면 선언이 끝난다.

**변수가 선언 되는 시점**은 작성한 코드가 순차적으로 실행되는 런타임 시점에 우리가 작성한 코드 line 에서 선언 되

는 것이 아니라 그 이전 단계인 **소스코드 평가 과정**에서 먼저 선언 된다. (변수 뿐만 아니라 모든 선언문이 해당)

소스코드 평가 과정이 끝나면 모든 선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행, 해석 한다.

선언을 하지 않으면 변수의 존재 자체를 모르기 때문에 선언하지 않은 식별자에 접근하려 시도하면 

자바스크립트는 ReferenceError(참조 에러)를 발생시킨다.

**초기화** : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined` 할당하여 초기화 함.

```jsx
var name; //undefined
```

우리가 특정 값을 할당하지 않더라도 자바스크립트의 경우는 쓰레기 값을 방지하기 위하여 암묵적으로 

`undefined` 값을 최초로 할당하여 초기화 한다.

`var` 의 경우는 위에서 말한 소스코드 평가 과정에서 `var` 변수가 **선언됨과 동시에 초기화 한다.**

선언은 했어도 초기화를 하지 않은 상태의 변수에 접근하려 시도하면 

자바스크립트는 ReferenceError(참조 에러)를 발생시킨다.

`var` 의 경우는 선언, 초기화가 동시에 진행 되므로 초기화 문제로 인한 ReferenceError(참조 에러) 는 걱정하지

않아도 된다.

`let, const` 는 초기화 과정이 `var` 과 다르지만 나중 챕터에서 정리할 예정.

**할당** : `=` 연산자를 사용하여 특정 값을 변수에 할당 함.

```jsx
var name = '도레미'; // 선언과 값의 할당을 하나의 문으로 표현

or

var name;
name = '도레미';
// 선언과 할당을 2개의 문으로 나누어 표현
```

할당의 경우는 런타임 시점에서 우리가 작성한 그 코드 line 에서 실행된다.

### **호이스팅**

```jsx
console.log(name); // undefined

var name;
```

변수 선언과 관련이 있는 현상이다.

`var` 로 선언된 `name` 변수의 선언과 초기화는 런타임 이전 소스코드 평가 단계에서 이미 진행 되었으므로

`console.log(name);` line 에선이미 `name` 이라는 존재를 알고, `undefined` 로 초기화가 되어 있다.

이처럼 **변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 변수 호이스팅** 이라

한다.

모든 선언문은 런타임 이전에 **호이스팅 된다.**

**모든 선언문은 호이스팅 되지만, 위 코드와 동일하게 동작하지는 않는 경우도 있다.**